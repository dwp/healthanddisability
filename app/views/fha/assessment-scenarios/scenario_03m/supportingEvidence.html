{% extends path+"/scenario_03i/_layout-case-simple.html" %}

{% block citizen_content %}

  <style type="text/css">
  .multiple-choice {
      padding: 8px 10px 9px 40px;}
    .multiple-choice [type=checkbox] + label::before {
      width: 22px;
      height: 22px;
      padding-top: 2px !important;
    }


    .govuk-checkboxes--small .govuk-checkboxes__item{min-height:0;margin-bottom:0;padding-left:34px;float:left}.govuk-checkboxes--small .govuk-checkboxes__item:after{content:"";display:block;clear:both}.govuk-checkboxes--small .govuk-checkboxes__input{left:-10px}.govuk-checkboxes--small .govuk-checkboxes__label{margin-top:-2px;padding:13px 15px 13px 1px;float:left}@media (min-width: 40.0625em){.govuk-checkboxes--small .govuk-checkboxes__label{padding:11px 15px 10px 1px}}.govuk-checkboxes--small .govuk-checkboxes__label::before{top:8px;width:24px;height:24px}.govuk-checkboxes--small .govuk-checkboxes__label::after{top:15px;left:6px;width:9px;height:3.5px;border-width:0 0 3px 3px}.govuk-checkboxes--small .govuk-checkboxes__hint{padding:0;clear:both}.govuk-checkboxes--small .govuk-checkboxes__conditional{margin-left:10px;padding-left:20px;clear:both}.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:not(:disabled)+.govuk-checkboxes__label::before{-webkit-box-shadow:0 0 0 10px #b1b4b6;box-shadow:0 0 0 10px #b1b4b6}.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:focus+.govuk-checkboxes__label::before{-webkit-box-shadow:0 0 0 3px #fd0,0 0 0 10px #b1b4b6;box-shadow:0 0 0 3px #fd0,0 0 0 10px #b1b4b6}@media (hover: none), (pointer: coarse){.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:not(:disabled)+.govuk-checkboxes__label::before{-webkit-box-shadow:initial;box-shadow:initial}.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:focus+.govuk-checkboxes__label::before{-webkit-box-shadow:0 0 0 3px #fd0;box-shadow:0 0 0 3px #fd0}}
  </style>

  {{ data.nuggets | log }}

  <p class="no-kdBar mb20">
    <a href="javascript: history.go(-1)" class="link-back">Back</a>
  </p>

  <form action="previousReports" method="post">

    <div class="grid-row">
      <div class="column-two-thirds">

        <p class="mb0 caption-large">File report: LCWRA due to mobilising and using steps</p>
        <h1 class="heading-large mt10">Evidence you've considered</h1>

        <div class="form-group evidence-seen-list">
          <fieldset>

            <legend class="mb20">
              <span class="body-text">Select evidence you've considered from the list below.</span>
            </legend>

            <div class="multiple-choice">
              <input id="evidence-type-1" name="evidence-types" type="checkbox" value="evidence-113">
              <label for="evidence-type-1">113</label>
            </div>
            <div class="multiple-choice">
              <input id="evidence-type-2" name="evidence-types" type="checkbox" value="evidence-BF223">
              <label for="evidence-type-2">BF223</label>
            </div>
            <div class="multiple-choice">
              <input id="evidence-type-3" name="evidence-types" type="checkbox" value="evidence-care-plan">
              <label for="evidence-type-3">Care Plan</label>
            </div>
            <div class="multiple-choice">
              <input id="evidence-type-4" name="evidence-types" type="checkbox" value="evidence-dna1">
              <label for="evidence-type-4">DNA1</label>
            </div>
            <div class="multiple-choice">
              <input id="evidence-type-5" name="waste-types" type="checkbox" value="evidence-frr2">
              <label for="evidence-type-5">FRR2</label>
            </div>
            <div class="multiple-choice">
              <input id="evidence-type-6" name="waste-types" type="checkbox" value="evidence-frr3">
              <label for="evidence-type-6">FRR3</label>
            </div>
            <div class="multiple-choice">
              <input id="evidence-type-7" name="waste-types" type="checkbox" value="evidence-frr4">
              <label for="evidence-type-7">FRR4</label>
            </div>
            <div class="multiple-choice">
              <input id="evidence-type-8" name="waste-types" type="checkbox" value="evidence-gp-medical-report">
              <label for="evidence-type-8">GP medical record printout</label>
            </div>
            {#  <div class="multiple-choice">
      <input id="evidence-type-9" name="waste-types" type="checkbox" value="evidence-letter-appointment">
      <label for="evidence-type-9">Letter (appointment)</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-10" name="waste-types" type="checkbox" value="evidence-letter-consultant">
      <label for="evidence-type-10">Letter (Consultant)</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-11" name="waste-types" type="checkbox" value="evidence-letter-gp">
      <label for="evidence-type-11">Letter (GP)</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-12" name="waste-types" type="checkbox" value="evidence-letter-hospital">
      <label for="evidence-type-12">Letter (hospital correspondance)</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-13" name="waste-types" type="checkbox" value="evidence-letter-specialist">
      <label for="evidence-type-13">Letter (specialist)</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-14" name="waste-types" type="checkbox" value="evidence-lt54">
      <label for="evidence-type-14">LT54</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-15" name="waste-types" type="checkbox" value="evidence-med3">
      <label for="evidence-type-15">Med 3</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-16" name="waste-types" type="checkbox" value="evidence-prescription">
      <label for="evidence-type-16">Prescription (copy)</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-17" name="waste-types" type="checkbox" value="evidence-questionnaire">
      <label for="evidence-type-17">Questionnaire</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-18" name="waste-types" type="checkbox" value="evidence-questionnaire-cancer">
      <label for="evidence-type-18">Questionnaire Cancer treatment page</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-19" name="waste-types" type="checkbox" value="evidence-uc63">
      <label for="evidence-type-19">UC63</label>
    </div>
    <div class="multiple-choice">
      <input id="evidence-type-20" name="waste-types" type="checkbox" value="evidence-uc65">
      <label for="evidence-type-20">UC65</label>
    </div> #}
          </fieldset>

          <div class="list-row mt20">
            <div class="form-group">
              <label class="form-label" for="full-name-f1">Add other evidence type</label>
              <span class="form-hint mt5 mb5">For example, type Med3 or Fit note.</span>
              {# <input class="form-control" id="full-name-f1" type="text" name="full-name-f1"> #}
              <div id="tt-default" class="autocomplete-wrapper" style="float:left; width:400px; margin-right:20px;">{{ dataCapturedEvidence }}</div>
              <button id="add-button" class="button secondary button-add-another-vertical">Add to list</button>
              {# <button onclick="fella()">click me</button> #}
            </div>
          </div>

          {# <label class="form-label" for="full-name-f1">Extra evidence</label>
  <input class="form-control" id="full-name-f1" type="text" name="full-name-f1">
  <button class="button secondary" type="submit">Add new evidence type</button> #}

        </div>

        <p><input type="submit" class="button" value="Save and continue" id="submitButton"></p>

      </form>

    </div>
    <!-- column -->

    {# <div class="column-one-third">

<div class="summary-panel">
<h4 class="bold mb10">Summary</h4>
<p class="font-small">LCWRA: moving around and climbing steps without someoneâ€™s help</p>
</div> #}

  </div>
  <!-- right hand column -->

</div>
<!-- row -->

{% endblock %}

{% block page_scripts %}

{% include path + "/scenario_03k/autocomplete/_autocompletedata.html" %}

{{ super() }}
<script type="text/javascript">

{# 
  function fella() {
    alert('here i am')
  } #}

  $(document).on('click', '.button-add-another-vertical', function (e) {
    e.preventDefault();
    var beforeThis = $(this)
      .parents('.evidence-seen-list')
      .find('.multiple-choice')
      .last();
    $(beforeThis).after(
    '<div class="multiple-choice">' + 
    '<input id="evidence-type-21" name="waste-types" type="checkbox" value="evidence-new-item">' + 
    '<label for="evidence-type-21">' + 
    'Telephone conversation record (FRR4)' + 
    '</label>' + 
    '</div>');
    sortFieldsVertical();
  });

  function sortFieldsVertical() {
    var listCounter = 1;
    var inputCounter = 1;

    $(document)
      .find('.list-item-wrapper-vertical .list-row')
      .each(function () {

        if ($(this).find('.remove-list-item-vertical').length === 0) {
          $(this)
            .find('.item-group-compound:last')
            .append('<a id="remove-item-vertical-' + listCounter + '" class="remove-list-item-vertical" href="#">Remove</a>');
        } else {
          $(this)
            .find('.remove-list-item-vertical')
            .attr('id', 'remove-item-vertical-' + listCounter);
        }

        $(this)
          .find('label')
          .each(function () {
            $(this).attr('for', 'reportedcondition' + inputCounter);
            inputCounter++;
          });

        $(this)
          .find('textarea')
          .each(function () {
            var labelNo = $(this)
              .parent()
              .find('label')
              .attr('for')
              .split('-')
              .pop();
            $(this).attr('id', labelNo);
            $(this).attr('name', labelNo);
          });

        $(this)
          .find('span')
          .each(function () {
            $(this).attr('value', labelNo);
          });

        listCounter++;
      });

    if ($(document).find('.list-item-wrapper-vertical .list-row').length === 2) {
      $('.remove-list-item-vertical').remove();
    }
  }

  $(document).on('click', '.remove-list-item-vertical', function (e) {
    e.preventDefault();
    $(this)
      .parents('.list-row')
      .prev('hr')
      .remove();
    $(this)
      .parents('.list-row')
      .remove();
    sortFieldsVertical();
  });
</script>

{% endblock %}